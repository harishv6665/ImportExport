<form class="bk-page__form-popup__wrapper"
      ng-init="materials = ['6mm', '10mm', '12mm', '20mm', '40mm', 'msand', 'other']"
      name="aggrade_form">
    <div class="bk-page__form-popup">
        <div class="bk-page__form-popup__header">
            <h6 class="bk-page__form-popup__header__title">Add aggrade record</h6>
        </div>
        <div class="bk-page__form-popup__content">
            <div class="bk-page__form-popup__content__form">

                <div class="bk-page__form-popup__content__form__row">
                    <div class="bk-page__form-popup__content__form__row__cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Supplier Name :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="text"
                                   name="supplierName"
                                   ng-model="pageCtrl.contentPopup.model.supplierName"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>
                </div>

                <div class="bk-page__form-popup__content__form__row clearfix">
                    <div class="bk-page__form-popup__content__form__row__cell half-cell fleft">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Trip sheet No :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="text"
                                   name="tripSheetNumber"
                                   ng-model="pageCtrl.contentPopup.model.tripSheetNumber"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>

                    <div class="bk-page__form-popup__content__form__row__cell half-cell fright">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Vehicle No :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="text"
                                   name="vehicleNumber"
                                   ng-model="pageCtrl.contentPopup.model.vehicleNumber"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>
                </div>

                <div class="bk-page__form-popup__content__form__row clearfix">
                    <div class="bk-page__form-popup__content__form__row__cell fleft half-cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Date :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="date"
                                   name="aggradeItemEntryDate"
                                   ng-model="pageCtrl.contentPopup.model.aggradeItemEntryDate"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>

                    <div class="bk-page__form-popup__content__form__row__cell fright half-cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Time :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="time"
                                   autocomplete="on"
                                   placeholder="hrs:mins"
                                   name="aggradeItemEntryTime"
                                   ng-model="pageCtrl.contentPopup.model.aggradeItemEntryTime"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>
                </div>

                <div class="bk-page__form-popup__content__form__row clearfix"
                  >
                    <div class="bk-page__form-popup__content__form__row__cell"
                      ng-class="{
                        'half-cell fleft': pageCtrl.showOther
                      }"
                      ng-init="pageCtrl.showOther = pageCtrl.contentPopup.model.material && materials.indexOf(pageCtrl.contentPopup.model.material) == -1">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Material :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__cust-dropdown__wrapper">
                            <div class="bk-page__form-popup__content__form__row__cell__cust-dropdown__header">
                                <input type="text"
                                       class="bk-page__form-popup__content__form__row__cell__cust-dropdown__header__title"
                                       name="material"
                                       disabled="true"
                                       ng-if="!pageCtrl.showOther"
                                       ng-model="pageCtrl.contentPopup.model.material"
                                       placeholder="Select material">

                                <input type="text"
                                       class="bk-page__form-popup__content__form__row__cell__cust-dropdown__header__title"
                                       disabled="true"
                                       ng-if="pageCtrl.showOther"
                                       placeholder="Other">

                                <span class="bk-page__form-popup__content__form__row__cell__cust-dropdown__header__icon"></span>
                            </div>
                            <ul class="bk-page__form-popup__content__form__row__cell__cust-dropdown__list">
                                <li class="bk-page__form-popup__content__form__row__cell__cust-dropdown__list__item"
                                    ng-repeat="item in materials"
                                    ng-click="pageCtrl.showOther = item == 'other'; pageCtrl.contentPopup.model.material = pageCtrl.showOther? '': item;"
                                >{{item}}
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="bk-page__form-popup__content__form__row__cell"
                      ng-class="{
                        'fright half-cell': pageCtrl.showOther
                      }"
                      ng-if="pageCtrl.showOther">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Describe material:</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="text"
                                   name="quantityInTonnes"
                                   ng-model="pageCtrl.contentPopup.model.material"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>

                </div>
                <div class="bk-page__form-popup__content__form__row clearfix">

                    <div class="bk-page__form-popup__content__form__row__cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Load weight(Tonnes) :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="number"
                                   min="0"
                                   name="quantityInTonnes"
                                   ng-model="pageCtrl.contentPopup.model.quantityInTonnes"
                                   ng-change="pageCtrl.contentPopup.model.totalAmount = (pageCtrl.contentPopup.model.quantityInTonnes||0) * (pageCtrl.contentPopup.model.ratePerTonne||0)"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>

                </div>

                <div class="bk-page__form-popup__content__form__row clearfix">
                    <!-- <div class="bk-page__form-popup__content__form__row__cell fleft half-cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Material :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="text" 
                            name="material"
                            ng-model="pageCtrl.contentPopup.model.material"
                            class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div> -->

                    <div class="bk-page__form-popup__content__form__row__cell fleft half-cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title">Rate per tonne :</span>
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="number"
                                   name="ratePerTonne"
                                   min="0"
                                   ng-model="pageCtrl.contentPopup.model.ratePerTonne"
                                   ng-change="pageCtrl.contentPopup.model.totalAmount = (pageCtrl.contentPopup.model.quantityInTonnes||0) * (pageCtrl.contentPopup.model.ratePerTonne||0)"
                                   class="bk-page__form-popup__content__form__row__cell__input">
                        </div>
                    </div>
                    <div class="bk-page__form-popup__content__form__row__cell fright half-cell">
                        <div class="bk-page__form-popup__content__form__row__cell__input-label clearfix">
                            <span class="bk-page__form-popup__content__form__row__cell__input-label__title fleft">Total Amount :</span>
                            <!-- <span class="bk-page__form-popup__content__form__row__cell__input-label__title bold fright">Total litre : <span class="bold">5</span></span> -->
                        </div>
                        <div class="bk-page__form-popup__content__form__row__cell__input__wrapper">
                            <input type="number"
                                   disabled="true"
                                   name="totalAmount"
                                   min="0"
                                   ng-value="(pageCtrl.contentPopup.model.quantityInTonnes||0) * (pageCtrl.contentPopup.model.ratePerTonne||0)"
                                   ng-model="pageCtrl.contentPopup.model.totalAmount"
                                   class="bk-page__form-popup__content__form__row__cell__input"
                            >
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="bk-page__form-popup__footer">
            <button class="bk-page__form-popup__footer__button save fright"
                    ng-click="pageCtrl.contentPopup.onAdd(aggrade_form, pageCtrl.contentPopup.model)">
                <span class="bk-page__form-popup__footer__button__title">Save</span>
            </button>
            <button class="bk-page__form-popup__footer__button cancel fright"
                    ng-click="pageCtrl.contentPopup.onClose()">
                <span class="bk-page__form-popup__footer__button__title">Cancel</span>
            </button>
        </div>
    </div>
</form>
